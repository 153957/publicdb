---
- name: upgrade all packages
  yum: name=* state=latest
  sudo: yes

- name: flag a reboot if necessary
  script: flag_reboot.sh
  register: result
  changed_when: result.rc == 0
  failed_when: result.rc >= 2
  notify: reboot

- name: add HTTP access to firewall rules
  lineinfile: dest=/etc/sysconfig/system-config-firewall
              regexp='--service=http' line='--service=http'
              state=present
  sudo: yes

- name: Compile firewall rules
  command: lokkit --update
  sudo: yes

- name: install ACL utilities
  yum: name=acl
  sudo: yes

- name: install screen
  yum: name=screen
  sudo: yes

- name: use custom .bashrc
  copy: src=bashrc dest=~/.bashrc backup=yes

# Install mailcap for the mime.types file
- name: install mailcap
  yum: name=mailcap
  sudo: yes
